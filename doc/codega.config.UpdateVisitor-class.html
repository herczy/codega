<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>codega.config.UpdateVisitor</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="codega-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >codega</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="codega-module.html">Package&nbsp;codega</a> ::
        <a href="codega.config-module.html">Module&nbsp;config</a> ::
        Class&nbsp;UpdateVisitor
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="codega.config.UpdateVisitor-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class UpdateVisitor</h1><p class="nomargin-top"><span class="codelink"><a href="codega.config-pysrc.html#UpdateVisitor">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_codega_c_22" name="uml_class_diagram_for_codega_c_22">
<area shape="rect" id="node76" href="codega.config.UpdateVisitor-class.html#__visitors__" title="codega.config.UpdateVisitor.__visitors__" alt="" coords="17,199,251,217"/>
<area shape="rect" id="node76" href="codega.config.UpdateVisitor-class.html#update_1_0" title="Update 1.0 configs to 1.1" alt="" coords="17,220,251,239"/>
<area shape="rect" id="node76" href="codega.config.UpdateVisitor-class.html#version_current" title="codega.config.UpdateVisitor.version_current" alt="" coords="17,239,251,257"/>
<area shape="rect" id="node76" href="codega.config.UpdateVisitor-class.html#visit_fallback" title="Fallback visitor, does nothing" alt="" coords="17,257,251,276"/>
<area shape="rect" id="node1" href="codega.config.UpdateVisitor-class.html" title="To be able to handle different versions, we need to &#39;update&#39; the current version." alt="" coords="5,174,261,282"/>
<area shape="rect" id="node77" href="codega.visitor.ExplicitVisitor-class.html#aspects" title="Return the aspect of the node that will decide which visitor function to &#160;use" alt="" coords="73,129,195,148"/>
<area shape="rect" id="node2" href="codega.visitor.ExplicitVisitor-class.html" title="A visitor where the only aspect is the node itself" alt="" coords="61,97,205,154"/>
<area shape="rect" id="node78" href="codega.visitor.VisitorType-class.html" title="Meta&#45;class for visitor types." alt="" coords="37,31,232,49"/>
<area shape="rect" id="node78" href="codega.visitor.VisitorBase-class.html#visit" title="Call the appropriate visitor method." alt="" coords="37,52,232,71"/>
<area shape="rect" id="node3" href="codega.visitor.VisitorBase-class.html" title="A base class for visitors" alt="" coords="25,6,244,77"/>
</map>
  <img src="uml_class_diagram_for_codega_c_22.gif" alt='' usemap="#uml_class_diagram_for_codega_c_22" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<pre class="literalblock">
To be able to handle different versions, we need to 'update' the
current version. So if a new compatible config version appears we need
to add an update function to that version.

Since there is only one supported version, only the fallback and the current
version visitors will be defined.

The update must be done prior to validating the XML. So the XSD always validates
the current version.

Version history:
* 1.0 -- Initial version
* 1.1 -- Renamed /config/source/filename to /config/source/resource since in this
         version we accept non-file based sources too.

</pre>

<!-- ==================== NESTED CLASSES ==================== -->
<a name="section-NestedClasses"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Nested Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-NestedClasses"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="codega.visitor.VisitorBase-class.html">visitor.VisitorBase</a></code></b>:
      <code><a href="codega.visitor.VisitorType-class.html">__metaclass__</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="codega.config.UpdateVisitor-class.html#update_1_0" class="summary-sig-name">update_1_0</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">version</span>,
        <span class="summary-sig-arg">xml_root</span>)</span><br />
      Update 1.0 configs to 1.1</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="codega.config-pysrc.html#UpdateVisitor.update_1_0">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="codega.config.UpdateVisitor-class.html#version_current" class="summary-sig-name">version_current</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">version</span>,
        <span class="summary-sig-arg">xml_root</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="codega.config-pysrc.html#UpdateVisitor.version_current">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="codega.config.UpdateVisitor-class.html#visit_fallback" class="summary-sig-name">visit_fallback</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">version</span>,
        <span class="summary-sig-arg">xml_root</span>)</span><br />
      Fallback visitor, does nothing</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="codega.config-pysrc.html#UpdateVisitor.visit_fallback">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="codega.visitor.ExplicitVisitor-class.html">visitor.ExplicitVisitor</a></code></b>:
      <code><a href="codega.visitor.ExplicitVisitor-class.html#aspects">aspects</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="codega.visitor.VisitorBase-class.html">visitor.VisitorBase</a></code></b>:
      <code><a href="codega.visitor.VisitorBase-class.html#visit">visit</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__format__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__init__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__sizeof__</code>,
      <code>__str__</code>,
      <code>__subclasshook__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="codega.config.UpdateVisitor-class.html#__visitors__" class="summary-name">__visitors__</a> = <code title="{Version(1.0): &lt;function update_1_0 at 0x20ca758&gt;,
 Version(1.1): &lt;function version_current at 0x20ca7d0&gt;}"><code class="variable-group">{</code>Version(1.0)<code class="variable-op">: </code>&lt;function update_1_0 at 0x20ca75<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="update_1_0"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">update_1_0</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">version</span>,
        <span class="sig-arg">xml_root</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="codega.config-pysrc.html#UpdateVisitor.update_1_0">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Update 1.0 configs to 1.1</p>
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@visitor(Version(1, 0))</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="version_current"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">version_current</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">version</span>,
        <span class="sig-arg">xml_root</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="codega.config-pysrc.html#UpdateVisitor.version_current">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@visitor(latest_version)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="visit_fallback"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">visit_fallback</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">version</span>,
        <span class="sig-arg">xml_root</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="codega.config-pysrc.html#UpdateVisitor.visit_fallback">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Fallback visitor, does nothing</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="codega.visitor.VisitorBase-class.html#visit_fallback">visitor.VisitorBase.visit_fallback</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== CLASS VARIABLE DETAILS ==================== -->
<a name="section-ClassVariableDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variable Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariableDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__visitors__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">__visitors__</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
<code class="variable-group">{</code>Version(1.0)<code class="variable-op">: </code>&lt;function update_1_0 at 0x20ca758&gt;<code class="variable-op">,</code>
 Version(1.1)<code class="variable-op">: </code>&lt;function version_current at 0x20ca7d0&gt;<code class="variable-group">}</code>
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="codega-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >codega</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Aug 16 20:15:55 2011
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
